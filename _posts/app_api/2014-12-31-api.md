---
layout: post
title: json数据模拟
category: app_api
author: "findever"
---

## 本地用于模拟json数据api接口

<!--more-->

### api介绍

  该api用php语言编写，将所有`GET`请求的`url`链接（ex:`http://mall.com/a/b?id=3`)按照规则转换，并在项目根目录下的`test`文件夹（`/test`）中对应目录下生成json文件，此文件路径为`__ROOT__/test/url_path/url_query.json`(ex:`/test/a/b/id=3.json`)。
  
### 功能演示

- `url`中有`url_query`

{% highlight php %}
//GET http://mall.com/a/b?name=lisi&age=99
http://mall.com/api.php?_p=a/b&name=lisi&age=99&_debug
//JSON_FILE_PATH => __ROOT__/test/a/b/name=lisi&age=99.json
//api会在项目的 test/a/b/ 目录下生成文件名为 name=lisi&age=99 的json文件
{% endhighlight %}

~~~javascript
//GET http://mall.com/a/b?name=lisi&age=99
http://mall.com/api.php?_p=a/b&name=lisi&age=99&_debug
//JSON_FILE_PATH => __ROOT__/test/a/b/name=lisi&age=99.json
//api会在项目的 test/a/b/ 目录下生成文件名为 name=lisi&age=99 的json文件
~~~
- - -
  
  
- `url`中无`url_query`

~~~javascript
//GET http://mall.com/a/b
http://mall.com/api.php?_p=a/b&_debug
//JSON_FILE_PATH => __ROOT__/test/a/b/index.json
//api会在项目的 test/a/b/ 目录下生成文件名为 index 的json文件(index为默认json文件名）
~~~
- - -
  
  
- server_config配置

  文件路径：`__ROOT__/api/server_config.php`
  
~~~javascript
//GET http://mall.com/a/b
http://mall.com/api.php?_p=a/b&_debug
//JSON_FILE_PATH => __ROOT__/test/a/b/index.json
//api会在项目的`test/a/b/`目录下生成`file_name`为`index`的json文件(index为默认json文件名）
~~~
